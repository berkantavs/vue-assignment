{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { fetchRecords } from '../services/appointmentsService';\nimport { fetchAgents } from '../services/agentsService';\nimport AgentAvatar from \"./AgentAvatar\";\nexport default {\n  components: {\n    AgentAvatar\n  },\n  data() {\n    return {\n      records: [],\n      agents: [],\n      currentPage: 1,\n      itemsPerPage: 10\n    };\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.records.length / this.itemsPerPage);\n    },\n    paginatedData() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.records.slice(start, end);\n    }\n  },\n  async created() {\n    await this.fetchAppointments();\n    await this.fetchAgents();\n  },\n  methods: {\n    async fetchAppointments() {\n      const tableName = 'Appointments';\n      try {\n        this.records = await fetchRecords(tableName);\n        console.log('Fetched appointments:', this.records);\n      } catch (error) {\n        console.error('Error fetching appointments:', error);\n      }\n    },\n    async fetchAgents() {\n      const tableName = 'Agents';\n      try {\n        this.agents = await fetchAgents(tableName);\n        console.log('Fetched agents:', this.agents);\n      } catch (error) {\n        console.error('Error fetching agents:', error);\n      }\n    },\n    logSelectedAgent(agent) {\n      console.log('Selected agent:', agent);\n    },\n    async addNewRecord() {\n      const tableName = 'tbl9reEf5STrkSA85';\n      const fields = {\n        Name: 'New Record'\n      };\n      try {\n        const newRecord = await addRecord(tableName, fields);\n        this.records.push(newRecord);\n      } catch (error) {\n        console.error('Error adding record:', error);\n      }\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\n    },\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n      }\n    }\n  }\n};","map":{"version":3,"names":["fetchRecords","fetchAgents","AgentAvatar","components","data","records","agents","currentPage","itemsPerPage","computed","totalPages","Math","ceil","length","paginatedData","start","end","slice","created","fetchAppointments","methods","tableName","console","log","error","logSelectedAgent","agent","addNewRecord","fields","Name","newRecord","addRecord","push","formatDate","dateStr","date","Date","toLocaleDateString","toLocaleTimeString","prevPage","nextPage"],"sources":["src/components/AppointmentsList.vue"],"sourcesContent":["<template>\n  <div class=\"mt-5 mb-5\">\n    <b-container>\n      <div class=\"appointments-list\">\n        <div class=\"filter-area mb-3 mt-2\">\n          <b-row>\n            <b-col lg=\"2\">\n              <div class=\"avatar-container\">\n                <div \n                  v-for=\"(agent, index) in agents.slice(0, 5)\" \n                  :key=\"index\" \n                  class=\"avatar-wrapper\"\n                >\n                  <AgentAvatar \n                    :agent=\"agent\" \n                    @select=\"logSelectedAgent\"\n                  ></AgentAvatar>\n                </div>\n                <div v-if=\"agents.length > 5\" class=\"avatar-wrapper\">\n                  <b-avatar class=\"agent-avatar-item\" style=\"background-color: #ccc;\">\n                    +{{ agents.length - 5 }}\n                  </b-avatar>\n                </div>\n              </div>\n            </b-col>\n            <b-col lg=\"6\">\n              <!-- status select box, başlangıç ve bitiş tarihleri -->\n            </b-col>\n            <b-col lg=\"4\">\n              <div class=\"text-end\">\n                <!-- search input -->\n              </div>\n            </b-col>\n          </b-row>\n        </div>\n      </div>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport { fetchRecords } from '../services/appointmentsService';\nimport { fetchAgents } from '../services/agentsService';\nimport AgentAvatar from \"./AgentAvatar\";\n\nexport default {\n  components: {\n    AgentAvatar\n  },\n  data() {\n    return {\n      records: [],\n      agents: [],\n      currentPage: 1,\n      itemsPerPage: 10\n    };\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.records.length / this.itemsPerPage);\n    },\n    paginatedData() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.records.slice(start, end);\n    }\n  },\n  async created() {\n    await this.fetchAppointments();\n    await this.fetchAgents();\n  },\n  methods: {\n    async fetchAppointments() {\n      const tableName = 'Appointments';\n      try {\n        this.records = await fetchRecords(tableName);\n        console.log('Fetched appointments:', this.records);\n      } catch (error) {\n        console.error('Error fetching appointments:', error);\n      }\n    },\n    async fetchAgents() {\n      const tableName = 'Agents';\n      try {\n        this.agents = await fetchAgents(tableName);\n        console.log('Fetched agents:', this.agents);\n      } catch (error) {\n        console.error('Error fetching agents:', error);\n      }\n    },\n    logSelectedAgent(agent) {\n      console.log('Selected agent:', agent);\n    },\n    async addNewRecord() {\n      const tableName = 'tbl9reEf5STrkSA85';\n      const fields = { Name: 'New Record' };\n      try {\n        const newRecord = await addRecord(tableName, fields);\n        this.records.push(newRecord);\n      } catch (error) {\n        console.error('Error adding record:', error);\n      }\n    },\n    formatDate(dateStr) {\n      const date = new Date(dateStr);\n      return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\n    },\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n      }\n    }\n  }\n};\n</script>\n"],"mappings":";AAyCA,SAAAA,YAAA;AACA,SAAAC,WAAA;AACA,OAAAC,WAAA;AAEA;EACAC,UAAA;IACAD;EACA;EACAE,KAAA;IACA;MACAC,OAAA;MACAC,MAAA;MACAC,WAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACAC,WAAA;MACA,OAAAC,IAAA,CAAAC,IAAA,MAAAP,OAAA,CAAAQ,MAAA,QAAAL,YAAA;IACA;IACAM,cAAA;MACA,MAAAC,KAAA,SAAAR,WAAA,aAAAC,YAAA;MACA,MAAAQ,GAAA,GAAAD,KAAA,QAAAP,YAAA;MACA,YAAAH,OAAA,CAAAY,KAAA,CAAAF,KAAA,EAAAC,GAAA;IACA;EACA;EACA,MAAAE,QAAA;IACA,WAAAC,iBAAA;IACA,WAAAlB,WAAA;EACA;EACAmB,OAAA;IACA,MAAAD,kBAAA;MACA,MAAAE,SAAA;MACA;QACA,KAAAhB,OAAA,SAAAL,YAAA,CAAAqB,SAAA;QACAC,OAAA,CAAAC,GAAA,+BAAAlB,OAAA;MACA,SAAAmB,KAAA;QACAF,OAAA,CAAAE,KAAA,iCAAAA,KAAA;MACA;IACA;IACA,MAAAvB,YAAA;MACA,MAAAoB,SAAA;MACA;QACA,KAAAf,MAAA,SAAAL,WAAA,CAAAoB,SAAA;QACAC,OAAA,CAAAC,GAAA,yBAAAjB,MAAA;MACA,SAAAkB,KAAA;QACAF,OAAA,CAAAE,KAAA,2BAAAA,KAAA;MACA;IACA;IACAC,iBAAAC,KAAA;MACAJ,OAAA,CAAAC,GAAA,oBAAAG,KAAA;IACA;IACA,MAAAC,aAAA;MACA,MAAAN,SAAA;MACA,MAAAO,MAAA;QAAAC,IAAA;MAAA;MACA;QACA,MAAAC,SAAA,SAAAC,SAAA,CAAAV,SAAA,EAAAO,MAAA;QACA,KAAAvB,OAAA,CAAA2B,IAAA,CAAAF,SAAA;MACA,SAAAN,KAAA;QACAF,OAAA,CAAAE,KAAA,yBAAAA,KAAA;MACA;IACA;IACAS,WAAAC,OAAA;MACA,MAAAC,IAAA,OAAAC,IAAA,CAAAF,OAAA;MACA,OAAAC,IAAA,CAAAE,kBAAA,WAAAF,IAAA,CAAAG,kBAAA;IACA;IACAC,SAAA;MACA,SAAAhC,WAAA;QACA,KAAAA,WAAA;MACA;IACA;IACAiC,SAAA;MACA,SAAAjC,WAAA,QAAAG,UAAA;QACA,KAAAH,WAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}